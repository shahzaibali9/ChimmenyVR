"use strict";(()=>{var Ve=Object.defineProperty;var T=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var j=(e,t,n)=>t in e?Ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))W.call(t,n)&&j(e,n,t[n]);if(T)for(var n of T(t))Z.call(t,n)&&j(e,n,t[n]);return e};var Y=(e,t)=>{var n={};for(var o in e)W.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&T)for(var o of T(e))t.indexOf(o)<0&&Z.call(e,o)&&(n[o]=e[o]);return n};var l=(e,t)=>()=>(e&&(t=e(e=0)),t);var je=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var p=(e,t,n)=>new Promise((o,r)=>{var i=c=>{try{s(n.next(c))}catch(_){r(_)}},a=c=>{try{s(n.throw(c))}catch(_){r(_)}},s=c=>c.done?o(c.value):Promise.resolve(c.value).then(i,a);s((n=n.apply(e,t)).next())});function Ze(e,t,n){return e.includes("/developer-platform")||t.startsWith(`${n}`)}function Ye(e,t){return t?G.DEV_PLATFORM_PROD:e?G.ZAPIER_PROD:G.ZAPIER_STAGING}var m,b,h,We,S,G,P,K,q,C,Q,L,J,X,ee,te,ne,oe,N,ae,ie,re,se,ce,H,de,pe,_e,D,ue,le,A=l(()=>{"use strict";m=document.location.hostname.includes("zapier.com"),b=document.location.hostname.includes("zapier-staging.com"),h=m?"https://zapier.com":b?"https://zapier-staging.com":"",We=m?"https://developer.zapier.com":"https://developer.zapier-staging.com";S=Ze(window.location.pathname,window.location.href,We),G={ZAPIER_PROD:"su0xp8g6",ZAPIER_STAGING:"yi7ip89a",DEV_PLATFORM_PROD:"eg4np976"};P=Ye(m,S),K="zapier-developer-generative",q="zapier-sales-scripted",C="zapier-support-generative",Q=["/blog/zapier-enterprise-business-plan","/customer-stories","/resources","/solutions","/apps/salesforce/integrations","/hubspot/integrations","/app/settings","/pricing","/app/pricing","/app/planbuilder","/zapconnect/confirmation","/enterprise","/ticket-incident-management","/gtm-ops","/gtm-ops-guide"],L="/app/get-help",J=["/workflows","/how-it-works","/apps/"],X="/l/home",ee=["/app/canvas","/canvas","/app/tables","/tables","/interfaces","/app/chatbots","/chatbot","/magic","/wild-kiwi-workflow","/chatty-cherry-blast","/tangy-task-assistants","/very-berry-visualizer","/function"],te=["https://interfaces.zapier.com","https://learn.zapier.com","https://zapier.com/zap","https://agents.zapier.com"],ne=["/l/chat-confirmation","/l/contact-sales-confirmation-chat"],oe=["/l/chat-confirmation","/l/contact-sales-confirmation-chat"],N="/app/popup-chat",ae="/l/chat-with-sales",ie=["app_id","user_hash"],re=["first_name","last_name","hubspot_company_size","hubspot_enriched_company_size","hubspot_csm_owner","hubspot_csom_owner","hubspot_owner_id","hubspot_owner_name","hubspot_job_level","hubspot_job_role","hubspot_qualified_signup_score","hubspot_who_will_be_using_zapier"],se=["Free"],ce=["Director","VP / Exec","VP/ Exec"],H=["250-999","1,000+","1,000-4,999","5,000+"],de=["popup_editor_chat_history","popup_editor_chat_relevant_links","popup_editor_chat_troubleshooting_steps"],pe="6758c875b1cc08a2acc199e3",_e="66a29253058aee0b7a06ae10",D="67cb51bf502e900d140e5295",ue="editor_copilot-support-chat",le="sse_enable-support-chat"});function Ke(){return p(this,null,function*(){let e=`${h}/api/in-product-messaging/features/`;try{let t=yield fetch(e,{credentials:"include"});if(!(t!=null&&t.ok))return{};let n=yield t.json();return n!=null?n:{}}catch(t){return console.error("Error fetching split flags:",t),{}}})}var me,Ae=l(()=>{"use strict";A();me=()=>p(void 0,null,function*(){let e=yield Ke();return e!=null?e:{}})});function Ee(e){return document.cookie.split(";").find(t=>{let[n]=t.split("=");return n.trim()===e})}function O(e){var t,n,o;return(o=(n=(t=document.cookie.split(";").find(r=>{let[i]=r.split("=");return i.trim()===e}))==null?void 0:t.split("="))==null?void 0:n[1])==null?void 0:o.trim()}function we(e=""){let o=decodeURIComponent(e).split("&").find(s=>s.includes("groups"));return o?o.split("=")[1].split(",").filter(s=>s.split(":")[1]==="1").map(s=>s.split(":")[0]):[]}function v(){var t,n;let e=JSON.parse((t=sessionStorage.getItem("page_view_id"))!=null?t:"[]");return(n=e==null?void 0:e[1])!=null?n:""}function k(e=""){var t;return e?(Number(e)^((t=window.crypto)==null?void 0:t.getRandomValues(new Uint8Array(1))[0])&15>>Number(e)/4).toString(16):`10000000-1000-4000-8000-${1e11}`.replace(/[018]/g,k)}function ge(e,t="",n=null,o="",r="",i=""){let a=ce.includes(o),s=H.includes(r)||H.includes(i);if(a&&s)return!1;let _=Math.floor(Date.now()/1e3)-60*60*24*7,g=e<_,u=se.includes(t);return!!(u&&g||u&&!n)}function fe(e,t){return Object.keys(e).reduce((n,o)=>(t.includes(o)||(n[o]=e[o]),n),{})}function F(e){return fe(e,ie)}function M(e){return fe(e,re)}function z(e=!1){let t=window.location.pathname;return!(t.includes("/l/")&&t!=="/l/support"||Q.some(function(n){return t.includes(n)})||J.some(n=>t.startsWith(n))&&!e)}function E(e=!1){let t=z(e),n=S?K:t?C:q;return b&&!S?`${n}-sandbox`:n}function he(n){return p(this,arguments,function*({functional_cookies_enabled:e,user_is_logged_in:t}){var _,g;let o=window.location.pathname,r=window.location.href,i=z(t);if(S)return b?t:!1;if(i&&!t)return o==="/app/get-help";if(m&&!e&&!i)return!1;let a=yield me(),s=(_=a[ue])!=null?_:!1,c=(g=a[le])!=null?g:!1;return!(o.includes("/editor")&&s||o.includes(X)&&!c||ee.some(u=>o.includes(u))||te.some(u=>r.startsWith(u)))})}function Oe(){return ne.some(e=>window.location.pathname.includes(e))}function Se(){return!z(!1)}function Pe(){return oe.some(e=>window.location.pathname.includes(e))}function Ie(){return window.location.pathname.includes(N)}function Te(e){return de.some(t=>Boolean(e[t]))}var R=l(()=>{"use strict";A();Ae()});var I,be=l(()=>{"use strict";I={OPEN:"open",CLOSE:"close",LOAD:"load",SHOWN:"shown",CAMPAIGN_SHOWN:"campaign_shown",CAMPAIGN_OPENED:"campaign_opened",CAMPAIGN_ENGAGED:"campaign_engaged"}});function Ce(){let e=0,t=window.setInterval(()=>{if(e>80)return clearInterval(t);e+=1,document.getElementById("ada-button-frame")&&(clearInterval(t),window.dispatchEvent(new CustomEvent("zapier.onShowAdaWidget")))},250);window.addEventListener("beforeunload",()=>{t&&clearInterval(t)})}function Le(e){let{OPEN:t,CLOSE:n,LOAD:o,SHOWN:r}=I,i=E(e.user_is_logged_in);window.addEventListener("zapier.onOpenAdaMessenger",()=>{w({interaction_name:t,customuser_id:e.user_id,account_id:e.current_account_id,ada_bot_handle:i})}),window.addEventListener("zapier.onCloseAdaMessenger",()=>{w({interaction_name:n,customuser_id:e.user_id,account_id:e.current_account_id,ada_bot_handle:i})}),window.addEventListener("zapier.onAdaEmbedLoaded",()=>{w({interaction_name:o,customuser_id:e.user_id,account_id:e.current_account_id,ada_bot_handle:i})}),window.addEventListener("zapier.onShowAdaWidget",()=>{w({interaction_name:r,content_type:"widget",customuser_id:e.user_id,account_id:e.current_account_id,ada_bot_handle:i})})}function Ne(e,t){w({interaction_name:I.CAMPAIGN_SHOWN,customuser_id:e.user_id,account_id:e.current_account_id,ada_campaign_key:t,ada_bot_handle:E(e.user_is_logged_in)})}function De(e,t){w({interaction_name:I.CAMPAIGN_OPENED,customuser_id:e.user_id,account_id:e.current_account_id,ada_campaign_key:t,ada_bot_handle:E(e.user_is_logged_in)})}function ve(e,t){w({interaction_name:I.CAMPAIGN_ENGAGED,customuser_id:e.user_id,account_id:e.current_account_id,ada_campaign_key:t,ada_bot_handle:E(e.user_is_logged_in)})}var qe,Qe,w,U=l(()=>{"use strict";A();R();be();qe=()=>typeof window!="undefined",Qe=()=>{let e=new RegExp(["googlebot","bingbot","slurp","duckduckbot","baiduspider","yandexbot","facebot","ia_archiver","oncrawl","yeti","bot","crawler","spider","crawling"].join("|"),"i");return qe()&&e.test(window.navigator.userAgent.toLowerCase())},w=(e={})=>{var t,n,o;Qe()||fetch(`${h}/api/v4/tracking/event/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject:"web_analytics.tracking.product.InProductMessageInteractionEvent",properties:d({fully_qualified_domain_name:window.location.host,path:window.location.pathname,url_address:window.location.href,visitor_id:(t=O("visitor_id"))!=null?t:null,page_view_id:(n=v())!=null?n:null,session_id:(o=O("session_id"))!=null?o:null,event_id:k()},e)})})}});var Je,Re,Xe,ye,et,tt,xe,nt,Ge,He,ke=l(()=>{"use strict";R();A();U();Je=e=>{window.dispatchEvent(new CustomEvent(`${e?"zapier.onOpenAdaMessenger":"zapier.onCloseAdaMessenger"}`))},Re=e=>e.pathname.includes(N),Xe=e=>e.pathname.includes(ae),ye=e=>Te(e)?pe:_e,et=()=>{let e=m?"zapier-support-generative":"zapier-support-generative-sandbox";setTimeout(()=>{window.adaEmbed.stop(),window.adaEmbed.start(d({handle:e},window.adaSettings)),window.adaEmbed.toggle()},3e3)},tt=e=>{window.adaSettings=d(d({adaReadyCallback:()=>{window.dispatchEvent(new CustomEvent("zapier.onAdaEmbedLoaded")),Re(e)?window.adaEmbed.reset({greeting:ye(e),metaFields:e}):window.adaEmbed.setMetaFields(e)},onAdaEmbedLoaded:()=>{window.adaEmbed.subscribeEvent("ada:campaigns:shown",t=>{Ne(e,t.campaignKey)}),window.adaEmbed.subscribeEvent("ada:campaigns:opened",t=>{De(e,t.campaignKey)}),window.adaEmbed.subscribeEvent("ada:campaigns:engaged",t=>{ve(e,t.campaignKey)})},eventCallbacks:{generativeHandoff:t=>et(t)},toggleCallback:t=>Je(t)},Re(e)&&{parentElement:"ada-frame",greeting:ye(e)}),Xe(e)&&{parentElement:"ada-frame"})},xe=(e=12)=>{setTimeout(()=>{try{window.adaEmbed.stop()}catch(t){e>0&&xe(e-1)}},250)},nt=({pathname:e,user_is_logged_in:t})=>{try{let n=document.createElement("script");n.id="__ada",n.setAttribute("data-handle",E(t)),n.src="https://static.ada.support/embed2.js",n.async=!0,document.head.appendChild(n)}catch(n){console.error("Error injecting Ada chatbot script:",n)}e.includes(L)&&!t&&xe()},Ge=e=>p(void 0,null,function*(){tt(e),(yield he(e))&&nt(e)}),He=e=>{window.addEventListener("LinkClick.ContactForm.ChatWithSales",()=>p(void 0,null,function*(){let t=d({greeting:D,handle:C},window.adaSettings);try{yield window.adaEmbed.reset({greeting:D,metaFields:e}),(yield window.adaEmbed.getInfo()).isDrawerOpen||window.adaEmbed.toggle()}catch(n){yield window.adaEmbed.start(t),yield window.adaEmbed.reset({greeting:D,metaFields:e}),window.adaEmbed.toggle()}}))}});function Fe(){var e=window,t=e.Intercom;if(typeof t=="function")t("reattach_activator"),t("update",e.intercomSettings);else{var n=document,o=function(){o.c(arguments)};o.q=[],o.c=function(i){o.q.push(i)},e.Intercom=o;var r=function(){var i=n.createElement("script");i.type="text/javascript",i.async=!0,i.src="https://widget.intercom.io/widget/"+P;var a=n.getElementsByTagName("script")[0];a.parentNode.insertBefore(i,a)};document.readyState==="complete"?r():e.attachEvent?e.attachEvent("onload",r):e.addEventListener("load",r,!1)}}var Me=l(()=>{"use strict";A()});var rt=je(Be=>{ke();A();Me();U();R();var x="C0003",y="C0004";function ot(){return p(this,null,function*(){let e=Oe(),t=Pe(),n=Ie(),o=Se(),r=new URLSearchParams({bust_cache:e,sales_confirmation_page:t,popup_chat_page:n,sales_page:o}),i=`${h}/api/in-product-messaging/user/?${r.toString()}`,a=yield fetch(i,{credentials:"include"}).catch();if(!(a!=null&&a.ok))return{};let s=yield a.json().catch();return s!=null?s:{}})}function at(){return new Promise(e=>{let t=0,n=setInterval(()=>{let o,r=Ee("OptanonConsent"),i=we(r);window.OnetrustActiveGroups&&window.OnetrustActiveGroups!==",,"?o={functional:window.OnetrustActiveGroups.includes(x),marketing:window.OnetrustActiveGroups.includes(y)}:r&&(o={functional:i.includes(x)||i.includes(y),marketing:i.includes(y)}),(o||t++>100)&&(clearInterval(n),e(o!=null?o:{functional:!1,marketing:!1}))},250)})}function it(e){let t=0,n=setInterval(()=>{var o;(o=window.OneTrust)!=null&&o.OnConsentChanged?(window.OneTrust.OnConsentChanged(({detail:r=[]})=>e(r)),clearInterval(n)):t++>100&&clearInterval(n)},250)}function ze(e){let t=M(e);window.Intercom&&(window.Intercom("boot",t),window.zapierIntercom={ready:window.Intercom.booted&&!e.disabled,data:t,update(n){window.Intercom("update",d({user_hash:e.user_hash},n)),window.zapierIntercom.data=d(d({},window.zapierIntercom.data),n)}},window.zapierIntercom.ready&&window.dispatchEvent(new CustomEvent("zapier.intercomReady",t)))}function Ue(e){let t=F(e);window.zapierAda={config:t},Ce(),Ge(t)}p(Be,null,function*(){var c,B;if((c=window.zapierIntercom)!=null&&c.ready&&window.adaEmbed)return;window.intercomSettings={app_id:P},Fe();let[_,...g]=yield Promise.all([ot(),at()]),u=_,{intercom_app_id:e=P,intercom_user_hash:t,is_masquerade:n}=u,o=Y(u,["intercom_app_id","intercom_user_hash","is_masquerade"]),[r]=g;if(n||(B=o.email)!=null&&B.endsWith("@zapier.rodeo"))return;let i=!1;o.user_is_logged_in&&(i=ge(o.created_at,o.support_eligibility_plan_family,o.hubspot_qualified_signup_score,o.hubspot_job_seniority,o.huspot_company_size,o.hubspot_enriched_company_size));let a=d({app_id:e,user_hash:t,user_is_logged_in:!1,user_has_signed_up:!1,functional_cookies_enabled:r.functional,marketing_consent:r.marketing,page_view_id:v(),pathname:window.location.pathname,session_id:O("session_id"),url_address:window.location.href,visitor_id:O("visitor_id"),disabled:!o.user_is_logged_in&&!r.functional,support_to_sales_suppressed:i},o),s=new URLSearchParams(window.location.search);if(!a.user_id&&s.has("intercom_anonymous_id")){let f=s.get("intercom_anonymous_id");a.anonymous_id=f,document.cookie=`intercom-id-${a.app_id}=${f};domain=${window.location.hostname};path=/;samesite=lax`}it(f=>{var V;a.functional_cookies_enabled=f.includes(x),a.marketing_consent=f.includes(y),a.disabled=!a.user_is_logged_in&&!f.includes(x);let $=F(a),$e=M(a);(V=window.zapierIntercom)!=null&&V.ready?window.Intercom("update",$e):ze(a),window.adaEmbed?(window.adaEmbed.setMetaFields($),window.zapierAda={config:$}):Ue(a)}),Le(a),He(a),ze(a),Ue(a)})});rt();})();
