(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6120],{36540:function(t,e,r){"use strict";r.d(e,{D:function(){return Flexbox}});var n=r(95235),i=r(82269),a=r(28165),o=r(85505),c=r.n(o),u=r(52903),s=["children","inline","direction","wrap","align","justify","gap","margin","padding","shrink","grow","basis"];function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){(0,n.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var flexboxCss=function(t){var e=t.inline,r=void 0!==e&&e,n=t.direction,i=void 0===n?"row":n,o=t.wrap,u=void 0===o?"nowrap":o,s=t.align,l=void 0===s?"row"===i||"row-reverse"===i?"center":"stretch":s,d=t.justify,p=void 0===d?"start":d,f=t.gap,h=void 0===f?0:f,g=t.margin,m=void 0===g?"0px":g,y=t.padding,v=void 0===y?"0px":y,b=t.shrink,w=void 0===b?1:b,Z=t.grow,x=void 0===Z?0:Z,S=t.basis,k=void 0===S?"auto":S;return(0,a.iv)("display:",r?"inline-flex":"flex",";flex-direction:",i,";flex-wrap:",u,";align-items:",l,";justify-content:",p,";gap:",c()(h)?h:"".concat(h,"px"),";margin:",m,";padding:",v,";flex-shrink:",w,";flex-grow:",x,";flex-basis:",k,";","")},Flexbox=function(t){var e=t.children,r=t.inline,n=t.direction,a=t.wrap,o=t.align,c=t.justify,l=t.gap,d=t.margin,p=t.padding,f=t.shrink,h=t.grow,g=t.basis,m=(0,i.Z)(t,s);return(0,u.tZ)("div",_objectSpread(_objectSpread({},m),{},{css:flexboxCss({inline:r,direction:n,wrap:a,align:o,justify:c,gap:l,margin:d,padding:p,shrink:f,grow:h,basis:g}),children:e}))}},9751:function(t,e,r){"use strict";r.d(e,{k:function(){return FatalError}});var n=r(42425),i=r(79610),a=r(83111),o=r(42426),c=r(80891),u=r(69530),s=r(17002),l=r(21377),createSafeStringifyReplacer=function(){var t=new WeakSet;return function(e,r){if("object"==typeof r&&null!==r){if(t.has(r))return"[Circular]";t.add(r)}return r}},safeStringify=function(t,e){try{return JSON.stringify(t,createSafeStringifyReplacer(),e)}catch(t){return}},d=r(52903),p="We’re not exactly sure what happened, but we’re unable to show the editor.",f=Error("An unknown fatal error occurred."),h={name:"udpedw",styles:"max-width:895px;margin:96px auto"},g={name:"1t3ivjg",styles:"display:flex;justify-content:center;margin-bottom:20px"},getSingleError=function(t){return Array.isArray(t)?1===t.length?t[0]:null:t},getCause=function(t){var e,r=getSingleError(t);if(!r)return p;var n=null!==(e=r.message)&&void 0!==e?e:String(t);return"string"==typeof n&&n&&n.trim()||p},getDetails=function(t){var e;return safeStringify(null!==(e=getSingleError(t))&&void 0!==e?e:t,2)},FatalError=function(t){var e=t.error,r=void 0===e?f:e,p=t.problem,m=t.solution,y=getCause(r),v=getDetails(r),b=(0,s.O)({error:"other",message:v?"(describe the issue here)\n\n--- details for support ---\n\n".concat(v):void 0}),w=(0,l.r)();return(0,d.tZ)("div",{css:h,children:(0,d.tZ)(n.T,{backgroundColor:"PrimeWhite",borderColor:"GrayWarm3",shadow:"elevation10",children:(0,d.BX)(i.Z,{margin:20,children:[(0,d.tZ)("div",{css:g,children:(0,d.tZ)(a.J,{isBlock:!0,color:"StatusErrorStronger",name:"alertTriangle",size:40})}),(0,d.tZ)(o.x,{tag:"h1",textAlign:"center",type:"SectionHeader",children:p}),y!==p&&(0,d.tZ)(o.x,{fontWeight:700,margin:"20px 0",tag:"p",textAlign:"center",children:y}),(0,d.tZ)(o.x,{margin:"20px 0",tag:"p",textAlign:"center",children:void 0===m?"Please reload this page. If that doesn’t work, go back to Zaps and find and open the Zap from there.":m}),(0,d.BX)(c.h,{columnSize:"250px",justify:"center",children:[(0,d.tZ)(u.B,{isFullWidth:!0,color:"secondary",href:b,target:"_blank",children:"Contact Support"}),(0,d.tZ)(u.B,{isFullWidth:!0,color:"primary",href:w,children:"Back to Zaps"})]})]})})})}},61017:function(t,e,r){"use strict";r.d(e,{UV:function(){return a},lN:function(){return i},tY:function(){return c},uu:function(){return o}});var n=r(65058);(0,n.cn)(!1);var i=(0,n.cn)(!1),a=(0,n.cn)(!1),o=(0,n.cn)(!1),c=(0,n.cn)(!1)},25302:function(t,e,r){"use strict";r.r(e),r.d(e,{__N_SSP:function(){return tm},default:function(){return ty}});var n,i,a=r(20406),o=r(28526),c=r.n(o),u=r(25237),s=r.n(u),l=r(12741),d=r(28165),p=r(23144),f=r(42426),h=r(60569),g=r(95235),m=r(56953),y=r(87946),v=r(34291),b=r.n(v),w=r(2784),Z=r(53022),x=r(52903);function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){(0,g.Z)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var S=(0,w.memo)(function(t){var e=t.href,r=t.theme,n=t.onClick,i=void 0===n?b():n,a={"aria-label":e===Z.tu?"Back to dashboard":"Back to Zaps",href:e,icon:"arrowBigLeft",name:"arrowBigLeft",onClick:i};return"light"===r?(0,x.tZ)(m.h,_objectSpread(_objectSpread({},a),{},{variant:"secondary"})):(0,x.tZ)(y.C,_objectSpread(_objectSpread({},a),{},{color:"icon-secondary"}))}),k=r(88286),j=r(17002),A=r(83111),_=r(5632),O=r(73819),P=r(45193),AccountAvatar=function(t){var e=t.account;return null!=e&&e.avatarUrl?(0,x.tZ)("div",{"data-testid":"account-avatar",children:(0,x.tZ)(P.q,{isBlock:!0,name:e.name,size:"medium",url:e.avatarUrl})}):(0,x.tZ)("div",{"data-testid":"account-icon",children:(0,x.tZ)(A.J,{isBlock:!0,color:"GrayWarm9",name:"personCircle",size:40})})},E="36px",C=(0,d.iv)("position:absolute;top:0;left:0;opacity:0.75;border-radius:100%;width:",E,";height:",E,";background-color:",p.w.UiPrimaryStrongest,";",""),I=(0,d.iv)("position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;height:",E,";width:",E,";",""),CurrentAccountIndicator=function(t){return t.isCurrentAccount?(0,x.BX)(x.HY,{children:[(0,x.tZ)("div",{css:C}),(0,x.tZ)("div",{css:I,"data-testid":"current-account-icon",children:(0,x.tZ)(A.J,{"aria-label":"Current account",color:"PrimeWhite",name:"formCheck",size:32})})]}):null},z={name:"bjn8wh",styles:"position:relative"},AccountIcon=function(t){var e=t.account,r=t.isCurrentAccount;return(0,x.BX)("div",{css:z,children:[(0,x.tZ)(AccountAvatar,{account:e}),(0,x.tZ)(CurrentAccountIndicator,{isCurrentAccount:r})]})},B=(0,d.iv)("border:1px solid ",p.w.GrayWarm4,";border-radius:10px;text-decoration:none;transition:background-color 300ms ease-in-out,border-color 300ms ease-in-out;",""),L=(0,d.iv)("&:focus{border:1px solid ",p.w.UiPrimaryStrongest,";outline:none;}&:hover{background-color:",p.w.UiPrimaryWeakest,";}",""),W={name:"1b7mr00",styles:"align-items:center;display:flex;max-width:100%;padding:10px"},D={name:"qwqrzs",styles:"display:flex;flex-direction:column;flex-grow:1;margin-left:10px"},AccountItem=function(t){var e,r=t.account,n=t.isCurrentAccount,i=(0,_.useRouter)(),a=n?void 0:O.Z.stringifyUrl({url:"/switch-account",query:{account:r.id,next:"".concat(i.basePath).concat(i.asPath)}},{encode:!1}),o=null!==(e=r.email)&&void 0!==e?e:"Team account";return(0,x.tZ)("a",{"aria-label":"Switch to the account for ".concat(r.name),css:[B,!n&&L,"",""],"data-testid":"account-item",href:a,children:(0,x.BX)("div",{css:W,children:[(0,x.tZ)(AccountIcon,{account:r,isCurrentAccount:n}),(0,x.BX)("div",{css:D,children:[(0,x.tZ)(f.x,{type:"SmallPrint4",children:r.name}),(0,x.tZ)(f.x,{color:"GrayWarm6",type:"SmallPrint1",children:o})]}),!n&&(0,x.tZ)(A.J,{color:"GrayWarm6",name:"arrowSmallRight",size:18})]})})},X=(0,d.iv)("height:100vh;background-color:",p.w.PrimeWhite,";display:flex;flex-direction:column;",""),T=(0,d.iv)("padding:10px;border-bottom:1px solid ",p.w.GrayWarm4,";",""),M={name:"1w34mcn",styles:"display:flex;height:100%;align-items:center;justify-content:center"},U={name:"1sd80n",styles:"max-width:600px;min-width:320px"},G={name:"lq5r1a",styles:"display:grid;row-gap:10px"},AccountSwitcher=function(t){var e=t.accounts,r=t.currentAccountId,n=(0,j.O)({error:"other"});return(0,x.BX)("div",{css:X,children:[(0,x.tZ)("div",{css:T,children:(0,x.tZ)(S,{href:"/app/assets/zaps",theme:"light"})}),(0,x.tZ)("div",{css:M,children:(0,x.BX)("div",{css:U,children:[(0,x.tZ)(f.x,{tag:"h1",type:"SectionHeader",children:"Unable to access Zap"}),(0,x.tZ)(f.x,{margin:"20px 0",tag:"p",type:"Body1",children:"You either don’t have permission to see this Zap or the Zap does not exist. Please try reloading the page or switching to a different account."}),(0,x.tZ)(f.x,{tag:"h2",type:"Body4",children:"Switch accounts"}),(0,x.tZ)("div",{css:G,children:e.map(function(t){return(0,x.tZ)(AccountItem,{account:t,isCurrentAccount:r===t.id},t.id)})}),(0,x.tZ)("div",{children:(0,x.BX)(f.x,{margin:"20px 0",tag:"p",textAlign:"center",type:"Body1",children:["Need help? ",(0,x.tZ)(h.r,{href:n,children:"Contact support"})]})})]})})]})},AccountSwitcherWithLoader=function(t){var e=t.currentAccountId,r=(0,k.x)(),n=(0,l.Z)(r).sort(function(t,r){if(t.id===e)return -1;if(r.id===e)return 1;var n=t.name.toUpperCase(),i=r.name.toUpperCase();return n>i?1:n<i?-1:0});return(0,x.tZ)(AccountSwitcher,{accounts:n,currentAccountId:e})},N=r(81333),R=r(752),J=r(9751),K=r(39028),q=r(24047),H=r(22924),V=r(60418),Y=(n=(0,a.Z)(c().mark(function _callee(t,e){var r;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V.default.get("/editor/api/large-zap/".concat(t,"?account_id=").concat(e));case 2:return r=n.sent.data,n.abrupt("return",r);case 5:case"end":return n.stop()}},_callee)})),function(t,e){return n.apply(this,arguments)}),$=r(8174),Q=r(32850),tt=r(87240),te=r(29360),tr=r(7328),tn=r(42425),ti=r(93128),ta=r(36540),to=(0,d.F4)(i||(i=(0,tr.Z)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),tc=(0,d.iv)("animation:",to," 1500ms linear infinite;",""),LargeZapLoadingScreen=function(){return(0,x.tZ)(ta.D,{justify:"center",align:"center",style:{height:"100vh",width:"100%"},children:(0,x.tZ)("div",{children:(0,x.tZ)(tn.T,{backgroundColor:"BackgroundWeaker",shadow:"elevation5",children:(0,x.BX)(ta.D,{gap:ti.Ze1,align:"center",justify:"center",padding:ti.LwD,children:[(0,x.tZ)("div",{css:tc,children:(0,x.tZ)(A.J,{isBlock:!0,name:"navCogFill",size:32,color:"GrayWarm8"})}),(0,x.tZ)(f.x,{type:"SmallPrint2",color:"GrayWarm8",style:{flexShrink:0},children:"Your Zap is taking a bit longer to load…"})]})})})})},tu=s()(function(){return(0,H.X)((0,a.Z)(c().mark(function _callee(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([r.e(510),r.e(9795),r.e(480),r.e(5646),r.e(740),r.e(2155),r.e(2385)]).then(r.bind(r,62385)).then(function(t){return t.Editor}));case 1:case"end":return t.stop()}},_callee)})))},{ssr:!1,loadableGenerated:{webpack:function(){return[62385]}}}),LargeZapLoader=function(t){var e=t.zapId,r=t.accountId;q.k.info("Loading large Zap ".concat(e," for account ").concat(r));var n=(0,R.KO)($.I),i=(0,N.Z)(n,2),a=i[0],o=i[1],c=(0,R.b9)(K.u),u=(0,_.useRouter)(),s=(0,w.useState)(null),l=s[0],d=s[1];if((0,w.useEffect)(function(){Y(e,r).then(function(t){o(t),c(r)}).catch(function(t){q.k.error("Failed to load large Zap ".concat(e),t),d(t)})},[e,r,o,c]),a){var p=(0,Q.k)(a),f=(0,te.H)((0,tt.E)(u.query),p);return(0,x.tZ)(tu,{initialZap:a,initialEditorMode:f})}return l?(0,x.tZ)(J.k,{problem:"Failed to load the Zap",error:l}):(0,x.tZ)(LargeZapLoadingScreen,{})},ts=r(61017),tl=r(40607),useShowSuggestedFieldMappingFeature=function(t){var e=null==t?void 0:t.plan.name.toLowerCase(),r=(0,tl.r)("editor_suggested-field-mappings",{attributes:{plan_name:null!=e?e:""}}).treatment;return"on"===r||"opt-in"===r},useSyncFeatureFlagsIntoJotai=function(t){var e=(0,R.b9)(ts.lN),r=(0,R.b9)(ts.UV),n=(0,R.b9)(ts.uu),i=(0,R.b9)(ts.tY),a=useShowSuggestedFieldMappingFeature(t),o="on"===(0,tl.r)("editor_optimise-choices").treatment,c="on"===(0,tl.r)("editor_cache-implementations").treatment,u="on"===(0,tl.r)("editor_monaco-code-field").treatment;e(a),r(o),n(c),i(u)},td=r(99989),tp=r(49058),tf=r(54502),th=r(636);function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var tg=s()(function(){return(0,H.X)((0,a.Z)(c().mark(function _callee(){return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all([r.e(510),r.e(9795),r.e(480),r.e(5646),r.e(740),r.e(2155),r.e(2385)]).then(r.bind(r,62385)).then(function(t){return t.Editor}));case 1:case"end":return t.stop()}},_callee)})))},{ssr:!1,loadableGenerated:{webpack:function(){return[62385]}}}),tm=!0,ZDLEditorPage=function(t){if(useSyncFeatureFlagsIntoJotai(t.accounts.find(function(e){return e.id===t.currentAccountId})),"isZapTooLarge"in t&&t.isZapTooLarge&&t.zapId)return(0,x.tZ)(LargeZapLoader,{zapId:t.zapId,accountId:t.currentAccountId});var e="initialVersion"in t?t.initialVersion:void 0;if("zap"in t&&e)return(0,x.tZ)(tg,{initialZap:t.zap,initialEditorMode:e});if("zapMissingReason"in t&&t.zapMissingReason){var r=t.zapMissingReason;return(0,x.tZ)(J.k,{problem:r,error:Error(r),solution:"Please contact support for help addressing this issue."})}return(0,x.tZ)(AccountSwitcherWithLoader,{currentAccountId:t.currentAccountId})};ZDLEditorPage.initialJotaiValues=function(t){var e=[[k.g,t.accounts],[tf.u,!t.canEditZap],[th.$,null===t.canEditZap]];if("treatments"in t){var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}}(t))){r&&(t=r);var n=0,F=function(){};return{s:F,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:F}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}(t.treatments);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.name,o=i.treatment;e.push([(0,td.ff)(a),o]),(0,tp.a)(a,o)}}catch(t){n.e(t)}finally{n.f()}}return("zap"in t&&e.push([$.I,t.zap]),"zap"in t)?[].concat(e,[[K.u,t.zap.account_id]]):e};var ty=ZDLEditorPage},636:function(t,e,r){"use strict";r.d(e,{$:function(){return n}});var n=(0,r(65058).cn)(!1)},21377:function(t,e,r){"use strict";r.d(e,{r:function(){return getMyZapsHref}});var getMyZapsHref=function(t){return t?"/app/assets/zaps/folders/".concat(t):"/app/assets/zaps"}},22924:function(t,e,r){"use strict";r.d(e,{X:function(){return s}});var n,i,a=r(20406),o=r(28526),c=r.n(o),u=(n=(0,a.Z)(c().mark(function _callee(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){setTimeout(e,t)}));case 1:case"end":return e.stop()}},_callee)})),function(t){return n.apply(this,arguments)}),s=(i=(0,a.Z)(c().mark(function _callee2(t){var e,r,n=arguments;return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e=n.length>1&&void 0!==n[1]?n[1]:1e3,r=n.length>2&&void 0!==n[2]?n[2]:3,i.prev=2,i.next=5,t();case 5:return i.abrupt("return",i.sent);case 8:if(i.prev=8,i.t0=i.catch(2),!(r>0)){i.next=14;break}return i.next=13,u(e);case 13:return i.abrupt("return",s(t,2*e,r-1));case 14:throw i.t0;case 15:case"end":return i.stop()}},_callee2,null,[[2,8]])})),function(t){return i.apply(this,arguments)})},87240:function(t,e,r){"use strict";r.d(e,{E:function(){return getEditorModeFromRouteQuery}});var n=r(81333),getEditorModeFromRouteQuery=function(t){return t&&Array.isArray(t.slug)&&!(t.slug.length<=1)?(0,n.Z)(t.slug,2)[1]:null}},19335:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[[...slug]]",function(){return r(25302)}])}},function(t){t.O(0,[5193,9461,9774,885,3867,3326,2888,179],function(){return t(t.s=19335)}),_N_E=t.O()}]);
//# sourceMappingURL=[[...slug]]-7ace4b3e6706ebac.js.map